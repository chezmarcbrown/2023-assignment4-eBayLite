{% extends "auctions/layout.html" %}

{% block main %}
<h2>Create New Listing</h2>

<script src="https://cdn.jsdelivr.net/npm/basiclightbox@5.1.1/dist/basicLightbox.min.js"></script>

<div>
    <div id="image" hidden>
        <img width="1400" height="900" src="auctions\templates\auctions\example.jpg">
    </div>
    <button class="html">Example</button>
    <br>
</div>

<script>
    const imageSource = document.querySelector('#image img').src;
    const imageInstance = basicLightbox.create(`<img src="${imageSource}" width="800" height="500">`);

    document.querySelector('button.html').addEventListener('click', function () {
        imageInstance.show();
    });
</script>


<form action="{% url 'create' %}" method="POST">
    {% csrf_token %}
    <div>
        <label for="title">Title</label>
        <input type="text" name="title" class="form-control" id="title" placeholder="Enter Title">
    </div>
    <div>
        <label for="description">Description</label>
        <input type="text" name="description" class="form-control" id="description" placeholder="Enter Description">
    </div>    
    <div>
        <label for="imageurl">Image URL</label>
        <input type="text" name="imageurl" class="form-control" id="imageurl" placeholder="Enter Image URL">
    </div>
    <div>
        <label for="price">Price</label>
        <input type="number" min="0" name="price" class="form-control" id="price" placeholder="Enter Price">
    </div>
    Select Category: 
    <select name="category" id="category">
        {% for item in categories %}
        <option value="{{item}}">{{item}}</option>
        {% endfor %}
    </select>
    <div>
        <button type="submit">Create New Listing</button>
    </div>
</form>
{% endblock %}